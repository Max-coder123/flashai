<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Guide</title>
    <link rel="icon" href="https://fav.farm/⚙️" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="static/global.css">
    <style>
#study-guide-container {
    width: 70%;
    margin-left: 350px;
    padding-bottom: 50px;
    text-align: left;
    font-size: 105%; 
}

.unit-taskbar {
    width: 350px;
    border-right: 1px solid #ccc;
    padding: 20px;
    height: 100vh;
    overflow-y: auto;
    position: fixed;
    top: 60px;
    left: 60px;
    background-color: transparent;
    transition: left 0.3s ease;
}

.taskbar.minimized+.main-content .unit-taskbar {
    left: 60px;
}

.taskbar:not(.minimized)+.main-content .unit-taskbar {
    left: 350px;
}

.unit-taskbar ul {
    list-style: none;
    padding: 0;
}

.unit-taskbar li {
    padding: 10px;
    border-bottom: 1px solid #ddd;
    cursor: pointer;
    width: 95%;
    margin: 0 auto;
    text-align: left;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    user-select: none;
}

.unit-taskbar li:hover {
    background-color: #f2f2f2;
}

.unit-number,
.unit-title {
    color: black;
    display: block;
    pointer-events: none;
}

.unit-number {
    font-size: 75%;
    font-weight: 650;
    color: grey;
}

.unit-title {
    font-size: 100%;
    font-weight: 400;
}

.unit-taskbar li .unit-number {
    color: grey;
    font-size: 75%;
    font-weight: 650;
}

.unit-taskbar li .unit-title {
    color: black;
    font-size: 100%;
    font-weight: 400;
    margin-left: 0;
    display: inline;
}

.unit-button span {
    pointer-events: none;
}

.logo {
    height: 150px;
    margin: 0;
    padding: 0;
    display: block;
    max-width: 100%;
}

h1,
h2,
h3 {
    text-align: left;
    margin-bottom: 20px;
}

ul {
    list-style-position: inside;
    padding-left: 20px;
}

    </style>
</head>

<body>

    <div class="top-taskbar">
        <img src="data:image/png;base64,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"
            alt="FlashAI Logo" style="filter: brightness(0) invert(0);">
            <div class="login-container">
                <button id="open-modal" class="login-button">
                    <span>login</span>
                </button>
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    width="36" height="36" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 13 16h-2a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 12 21Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg>
            </div>
        </div>
    
        <div class="modal" id="login-modal">
            <div class="modal-content">
                <span class="close" id="close-modal">&times;</span>
                <h2 id="formTitle">Login</h2>
                <form id="authForm">
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" placeholder="Enter your password">
                    </div>
                    <div class="form-group">
                        <button type="submit" class="submit-button">Submit</button>
                    </div>
                    <span id="toggleForm">Don't have an account? <span class="highlight">Sign up</span></span>
                </form>
            </div>
        </div>
    
        <div class="taskbar" id="taskbar">
            <a href="javascript:void(0)" id="toggle-taskbar">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5 7h14M5 12h14M5 17h14" />
                </svg>
                <span>Toggle</span>
            </a>
            <a href="/dashboard">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5" />
                </svg>
                <span>Home</span>
            </a>
            <a href="/studyguide">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6.03v13m0-13c-2.819-.831-4.715-1.076-8.029-1.023A.99.99 0 0 0 3 6v11c0 .563.466 1.014 1.03 1.007 3.122-.043 5.018.212 7.97 1.023m0-13c2.819-.831 4.715-1.076 8.029-1.023A.99.99 0 0 1 21 6v11c0 .563-.466 1.014-1.03 1.007-3.122-.043-5.018.212-7.97 1.023" />
                </svg>
    
                <span>Study Guide</span>
            </a>
            <a href="/">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M15 9h3m-3 3h3m-3 3h3m-6 1c-.306-.613-.933-1-1.618-1H7.618c-.685 0-1.312.387-1.618 1M4 5h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm7 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
                </svg>
                <span>Cards</span>
            </a>
            <a href="/history">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8v4l3 3m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
                <span>History</span>
            </a>
            <a href="/practice">
                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                    width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 16.881V7.119a1 1 0 0 1 1.636-.772l5.927 4.881a1 1 0 0 1 0 1.544l-5.927 4.88A1 1 0 0 1 8 16.882Z" />
                </svg>
                <span>Practice</span>
            </a>
        </div>
    
        <div class="main-content" id="main-content">
            <div id="unit-taskbar" class="unit-taskbar">
                <ul id="unit-list"></ul>
            </div>
            <div id="study-guide-container"></div>
        </div>
    
        <script src="/static/global.js"></script>
    
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const taskbar = document.getElementById('taskbar');
                const mainContent = document.getElementById('main-content');
                const unitTaskbar = document.getElementById('unit-list');
                const urlParams = new URLSearchParams(window.location.search);
                const courseId = urlParams.get('course');
    
                if (courseId) {
                    taskbar.classList.add('minimized');
                    mainContent.classList.add('expanded');
                }
    
                document.getElementById('toggle-taskbar').addEventListener('click', function () {
                    taskbar.classList.toggle('minimized');
                    mainContent.classList.toggle('expanded');
                });
    
                if (courseId) {
                    fetch('/static/study_guides.json')
                        .then(response => response.json())
                        .then(data => {
                            const studyGuide = data.find(course => course.courseId === courseId);
                            if (studyGuide) {
                                populateUnitTaskbar(studyGuide.units);
                                displayStudyGuide(studyGuide);
    
                                document.getElementById('unit-taskbar').addEventListener('click', function (e) {
                                    if (e.target.classList.contains('unit-button')) {
                                        const unitId = e.target.dataset.unitId;
                                        loadUnit(unitId, studyGuide);
                                    }
                                });
                            } else {
                                console.error('Study guide not found for courseId:', courseId);
                            }
                        })
                        .catch(error => console.error('Error loading study guide:', error));
                }
    
                function populateUnitTaskbar(units) {
    if (!units || !Array.isArray(units)) return;
    unitTaskbar.innerHTML = units.map(unit => {
        const unitNumber = unit.unitId.replace(/\D/g, '');
        const unitTitle = unit.unitName.replace(/unit\s?\d*:/i, '').trim();

        return `
            <li class="unit-button" data-unit-id="${unit.unitId}" style="cursor: pointer;">
                <div class="unit-number">UNIT ${unitNumber}</div>
                <div class="unit-title">${unitTitle}</div>
            </li>
        `;
    }).join('');
}

    
function displayStudyGuide(studyGuide) {
    const guideContainer = document.getElementById('study-guide-container');

    if (!studyGuide.units || !Array.isArray(studyGuide.units)) {
        guideContainer.innerHTML = '<p>No units available for this course.</p>';
        return;
    }

    guideContainer.innerHTML = `
        <h1>${studyGuide.courseName}</h1>
        ${studyGuide.units.map(unit => `
            <div class="unit">
                <h2>${unit.unitName}</h2>
                ${unit.topics && unit.topics.length > 0 
                    ? unit.topics.map(topic => `
                        <h3>${topic.topicName}</h3>
                        <ul>
                            ${topic.details && topic.details.length > 0 
                                ? topic.details.map(detail => `<li>${detail}</li>`).join('') 
                                : '<li>No details available for this topic.</li>'
                            }
                        </ul>
                    `).join('')
                    : '<p>No topics available for this unit.</p>'
                }
            </div>
        `).join('')}
    `;
}


function loadUnit(unitId, studyGuide) {
    const unit = studyGuide.units.find(u => u.unitId === unitId);
    const guideContainer = document.getElementById('study-guide-container');

    if (unit) {
        guideContainer.innerHTML = `
            <h2>${unit.unitName}</h2>
            ${unit.topics && unit.topics.length > 0
                ? unit.topics.map(topic => `
                    <h3>${topic.topicName}</h3>
                    <ul>
                        ${topic.details && topic.details.length > 0 
                            ? topic.details.map(detail => `<li>${detail}</li>`).join('')
                            : '<li>No details available for this topic.</li>'
                        }
                    </ul>
                `).join('')
                : '<p>No topics available for this unit.</p>'
            }
        `;
    }
}



            });
        </script>
    </body>
    
    </html>
    
